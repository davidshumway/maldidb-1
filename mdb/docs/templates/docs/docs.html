{% extends 'base.html' %}
{% load static %}

{% block title %}
  Documentation
{% endblock %}

{% block content %}


  <div class="row">
    <div class="col-sm-3">
      <div class="card">
        <div class="card-header">Topics</div>
        <div class="card-body">
          <nav class="nav flex-column">
            <a class="nav-link active" href="#">Active</a>
            <a class="nav-link" href="#">Link</a>
            <a class="nav-link" href="#">Link</a>
            <a class="nav-link disabled pb-0 pt-0" href="#">Disabled</a>
            <a class="nav-link disabled ml-3" style="" href="#">child</a>
          </nav>
          <nav class="nav flex-column">
          {% for category in categories %}
            {% if category.type == 'category' %}
            <a class="nav-link pb-0 pt-0 doc-link" href="#"
              id="doc-{{category.slug|safe}}"
              >{{ category.short_title|safe }}</a>
            {% else %}
            <a class="nav-link pb-0 pt-0 ml-3 doc-link" href="#"
              id="doc-{{category.slug|safe}}"
              >-{{ category.short_title|safe }}</a>
            {% endif %}
          {% endfor %}
          </nav>
        </div>
      </div>
    </div>
    <div class="col-sm-9">
      <div class="card">
        <div class="card-body">
          <h3>
          {% for category in categories %}
            <div style="display:none;" class="doc-title"
              id="doc-title-{{category.slug|safe}}">
              {{ category.long_title|safe }}
            </div>
          {% endfor %}
          </h3>
          
          {% for category in categories %}
            <div style="display:none;" class="doc-content"
              id="doc-content-{{category.slug|safe}}">
              {{ category.formatted_markdown|safe }}
            </div>
          {% endfor %}
          
<!--
          x
-->
          <div class="markdownx row">
<!--
            <div class="col-md-6">
              
            </div>
-->
            <div class="col-md-6">
<!--
              <div class="markdownx-preview">#header
-->
<!--
              hi</div>
-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script type="text/javascript">
window.addEventListener('DOMContentLoaded', (event) => {
   $('.doc-link').on('click', function(e) {
     console.log(this);
     console.log(this.dataset);
     console.log(this.id);
     $('.doc-title').css('display', 'none');
     $('.doc-content').css('display', 'none');
     $('#' + this.id.replace('doc-', 'doc-title-')).css('display', '');
     $('#' + this.id.replace('doc-', 'doc-content-')).css('display', '');
   });
});
</script>
{% endblock %}

